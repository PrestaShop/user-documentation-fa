---
description: Performance
---

# کارایی

**کارایی**

**کارایی**

این صفحه بسیاری از ابزارها و نکات را در خود جای داده است که ممکن است به شما کمک کند عملکرد مغازه خود را از نظر سرور بهبود بخشید - نه از نظر فروش، اگرچه سروری که عملکرد خوبی داشته باشد میتواند به مشتریان بیشتری خدمت کند و بنابراین فروش بیشتری دارد.

**هوشمند**

هوشمند نام زبان الگویی است که توسط مضامین پرستاشاپ استفاده می شود. میتوانید اطلاعات بیشتری در مورد آن در http://www.smarty.net/ کسب کنید.

![](../../../.gitbook/assets/0%20%2855%29.png)

چندین گزینه وجود دارد:

* **کامپایل کردن قالب.** برای عملکرد بهتر در بخش کاربری، پرستاشاپ صفحات HTML شما را ذخیره می کند.
  * **هرگز فایلها را دوباره کامپایل نکن \(Never recompile template files.\).** رفتار طبیعی: صفحات HTML کامپایل و حافظه پنهان می شوند ، سپس همانطور که هست نمایش داده می شوند ، حتی اگر موضوع در این بین تغییر کرده باشد.
  * **اگر فایلها به روز شدهاند، مجدداً الگوها را کامپایل کنید \(Recompile templates if the files have been updated.\).** پرستاشاپ قادر است زمان تغییر یک فایل تم را مشاهده کند.
  * **کامپایل اجباری \(Force compilation.\).** این مورد را فقط در صورت ایجاد تغییرات در قالب فعال کنید و هر بار که صفحه خود را بارگیری میکنید، باید تغییرات خود را مشاهده کنید.
* **حافظه نهان.** این گزینه این امکان را فراهم میکند تا نه فقط فایل های مربوط به قالب را بلکه همه حافظه نهان فایل را ها غیر فعال کنید. فقط در صورت عیبیابی از یک قالب یا ماژول برای پرستاشاپ، این مورد را غیرفعال کنید. در غیر این صورت ، باید آن را فعال کنید.

دکمه "پاک کردن حافظه موقت" در بالای صفحه امکان حذف حافظه پنهان را با یک کلیک فراهم میکند به جای اینکه بخواهید فایل ها را در سرور FTP خود حذف کنید.

* **همگام سازی چندسروری.** هنگامی که چندین سرور دارید، این گزینه به شما در هماهنگ سازی حافظه نهان کمک می کند.
* **نوع ذخیره سازی.** به طور پیش فرض، هوشمند از مکانیزم ذخیره فایل مبتنی بر فایل استفاده میکند. می توانید انتخاب کنید که از MySQL به عنوان منبع ذخیره سازی حافظه نهان هوشمند استفاده کند.
* **پاک کردن حافظه موقت.** بسته به اینکه فروشگاه شما هر چند وقت یکبار تغییر می کند، ممکن است بخواهید هرگز فایلهای حافظه پنهان را پاک نکنید، یا هر بار که فروشگاه شما تغییر می کند \(محصولات یا طرح\) آنها را پاک کنید.

**حالت عیب یابی**

هنگامی که در حالت عیب یابی هستید، میتوانید تأثیر ویژگیهای خاص پرستاشاپ را کاهش دهید تا به بهترین وجه مشخص کنید که یک خطا از کجا ناشی می شود:

![](../../../.gitbook/assets/1%20%2850%29.png)

* **ماژولهای غیرپرستاشاپی غیرفعال شود.** ماژول پرستاشاپ بسیار آزمایش شدهاند و نباید هیچ مشکلی را ارائه دهد. اگر این تنظیم را فعال کنید، میتوانید تشخیص دهید که مشکل از کد خود پرستاشاپ \(هسته یا ماژول\) است یا از ماژول متفاوت.
* **تمام اوررایدها غیرفعال شود.** بسیاری از ویژگی های پرستاشاپ قابل اورراید هستند. اگر این تنظیمات را فعال کنید ، همه کد های اصلی غیرفعال می شوند و شما می توانید تشخیص دهید که آیا مشکل از کد خود پرستاشاپ است یا از طرف اورراید ماژول متفاوت.
* **حالت عیبیابی.** با فعال کردن این گزینه، پیامهای خطای فنی قابل مشاهده هستند. برای بررسی فنی سایت شما، در حالتی که دسترسی به سایت امکان پذیر نیست استفاده میشود.

**ویژگیهای اختیاری**

برخی از ویژگیهای پرستاشاپ در صورت عدم استفاده از آنها غیرفعال می شود، زیرا باعث کندی فروشگاه شما می شود.

{% hint style="warning" %}
اگر در حال حاضر کاتالوگ شما محصولی دارد که از این ویژگیها استفاده کند، دیگر نمی توانید آنها را غیرفعال کنید. قبل از خاموش کردن برخی از داده ها ، باید آنها را حذف کنید.
{% endhint %}

می توانید ویژگی های زیر را غیرفعال کنید:

![](../../../.gitbook/assets/2%20%2823%29.png)

* **ترکیبها.** ترکیبات محصول این امکان را برای شما فراهم می کند که یک خط تولید کامل از یک محصول واحد داشته باشید: اندازه ، رنگ ، ظرفیت و غیره.
* **ویژگیها.** ویژگی های محصول شما را قادر می سازد تا اطلاعات خاص محصول را نشان دهید: وزن، مواد، کشور و غیره.
* **گروه مشتری.** گروه های مشتری شما را قادر می سازد تا مشتریان را برای داشتن امتیازات و محدودیت های خاص گروه بندی کنید: تخفیف ، محدودیت ماژول و غیره.

**CCC \(ترکیب، فشرده سازی و حافظه‎ی موقت\)**

CCC مجموعه ای از ابزارها با هدف به حداقل رساندن لود سرور و زمان بارگیری قالب است.

این فایلهای متنی از همان نوع را در یک فایل بزرگتر ترکیب می کند که باعث میشود فایلهای کمتری بارگیری شوند. سپس فایل را با استفاده از الگوریتم رایج Zip فشرده میکند، که باعث دانلود سریعتر می شود. سرانجام ، این فایل فشرده را ذخیره می کند ، بنابراین سرور مجبور نیست هر بار که یک صفحه بارگیری می شود ، این فرآیند را انجام دهد.

![](../../../.gitbook/assets/3%20%2811%29.png)

* **حافظه موقت هوشمند برای CSS.** فایل های CSS مبتنی بر متن هستند و می توانند به صورت امن ترکیب و فشرده شوند.
* **حافظه موقت هوشمند برای JavaScript**. فایلهای جاوا اسکریپت نیز مبتنی بر متن هستند ، اما ترکیب آنها گاهی اوقات می تواند مشکل ساز باشد. قبل از فعال کردن تنظیمات، حتماً همه چیز را آزمایش کنید.
* **بهینه سازی آپاچی.** این تنظیم فایل پیکربندی وب سرور شما را تغییر می دهد تا کارآیی بیشتری برای CCC ایجاد کند.

**سرورهای رسانه**

این بخش به شما امکان می دهد بخشی از ترافیک خود \(به عنوان مثال فایلهای تصویری و ویدئویی\) را از طریق دامنه های دیگر یا زیر دامنه ها به سرورهای دیگر تحت کنترل خود هدایت کنید - اغلب این پرونده ها در CDN \(شبکه تحویل محتوا\) میزبانی می شوند. به طور پیش فرض ، پرستاشاپ از یک سرور رسانه پشتیبانی می کند.

![](../../../.gitbook/assets/4%20%289%29.png)

قرار دادن نام دامنه فروشگاه خود در این بخش روش مناسبی برای به دست آوردن عملکردی بالا نیست. همانطور که گفته شد، راه اندازی یک سرور رسانه آسان است و مزایای آن واقعی و تقریباً فوری هستند:

1. یک حساب کاربری در یک هاست جدید ، ترجیحاً شخصی که متخصص محتوای توزیع شده است ، باز کنید. مشهورترینها [Akamai](http://www.akamai.com/) ، آمازون \(با خدمات AWS، از جمله [CloudFront](http://aws.amazon.com/)\) یا [CloudFlare](http://www.cloudflare.com/) است. همچنین باید از هاست خود بپرسید ، ممکن است این سرویس دارای CDN باشد که می توانید در آن مشترک شوید.
2. فایلهای رسانهای خود را در سرور هاست کپی کنید. این بدان معنی است که سرور CDN باید حاوی یک کپی دقیق از پوشه های زیر از سرور اصلی فروشگاه شما باشد: /img, /themes و /modules.

یادآوری: باید این کار را انجام دهید تا این پوشه ها همیشه هماهنگ شوند: حتی اگر محصولات جدیدی اضافه کنید یا قالب خود را تغییر دهید ، سرور CDN باید حاوی آخرین نسخه از همه این فایلها باشد.

1. هنگامی که سرور CDN در محل قرار گرفت ، آدرس وب \(همانطور که توسط میزبان CDN شما داده شده است\) را در قسمت "سرور رسانه شماره 1" اضافه کنید. اگر هاست آدرس وب بیشتری را اجازه می دهد ، آنها را اضافه کنید.

درصورتی که ترجیح می دهید فایل های شما هنوز به صورت تصویری از نام دامنه شما بارگیری شود نه از یک نام دامنه ناشناخته ، این روند را دنبال کنید:

1. برای دامنه فروشگاه خود یک زیر دامنه ایجاد کنید

به عنوان مثال http://cdn1.example.com \(روش انجام این کار به هاست شما بستگی دارد\).

1. یک فایل .htaccess را در ریشه زیر دامنه قرار دهید. این فایل باید حاوی یک خط باشد:

```php
Redirect Permanent / http://cdn-adress.com
```

http://cdn-adress.com را با سرور CDN خود جایگزین کنید. به این ترتیب ، شما در حال ایجاد تغییر مسیر خودکار از زیر دامنه خود به سرور CDN خود هستید.

1. پس از فعال شدن زیر دامنه ، آن را در اولین قسمت ، "سرور رسانه شماره 1" اضافه کنید. اگر هاست آدرس وب بیشتری را امکان پذیر میکند ، به همان تعداد زیر دامنه برای نام دامنه اصلی فروشگاه خود ایجاد کنید.

{% hint style="success" %}
حتی اگر یک سرور CDN ندارید ، می توانید از ویژگی سرور رسانه استفاده کنید تا مرورگر مشتری بتواند همزمان فایل های بیشتری را دانلود کند، بنابراین روند بارگیری کل صفحه سریعتر می شود:

1. وب سرور خود را برای داشتن زیر دامنههای مجازی مانند mages1.example.com، images2.example.com و images3.example.com پیکربندی کنید که به پوشه اصلی پرستاشاپ اشاره دارد.
2. در صفحه کارایی مدیریت، هر قسمت "سرور رسانه" را روی این زیر دامنه های مجازی تنظیم کنید.

پس از نصب، پرستاشاپ تصاویر را از هر یک از این زیر دامنه ها دانلود میکند. در واقع، تصاویر از برخی پوشهها \(اصلی\) می آیند، اما مرورگر چندین رشته اتصال بیشتری از آنچه به طور پیش فرض در وب سرور شما ایجاد میکند، باز میشود، بنابراین کل صفحه سریعتر بارگیری میشود.
{% endhint %}

**کش کردن**

حافظه نهان سرور نسخه های ثابت صفحه وب پویای شما را ذخیره می کند تا این خدمات را به مشتریان ارائه دهد و بنابراین بار سرور و زمان کامپایل را کاهش دهد.

{% hint style="success" %}
بیشتر اوقات ، ابتدا باید در مورد این تنظیمات با هاست خود مشورت کنید، زیرا این امر به تنظیمات خاصی در سرور نیاز دارد.
{% endhint %}

این بخش شما را قادر می سازد تا فعال کردن حافظه نهان را فعال کنید ، و سپس روش ذخیره را انتخاب کنید:

![](../../../.gitbook/assets/5%20%284%29.png)

* **Memcached**. سیستم ذخیره سازی توزیع شده. بسیار کارآمد، مهمتر از همه دارای چند سرور، اما باید مطمئن شوید که سرورها / هاستهای شما از آن پشتیبانی میکنند - به احتمال زیاد، اگر پیکربندی PHP شما دارای پسوند Memcached PECL باشد، شروع کنید \(می توانید آن را از اینجا دانلود کنید: http: //pecl.php.net/package/memcache\). با کلیک روی لینک "افزودن سرور" می توانید سرورهای Memcached را اضافه کنید.
* **APC**. PHP Cache جایگزین رایگان، باز و قوی است، اما فقط با یک سرور کار میکند - این حالت معمول هنگام شروع تجارت آنلاین است. مجدد، در دسترس بودن پسوند APC PECL در سرور خود را بررسی کنید: http://pecl.php.net/package/APC.
* **Xcache.** یک سیستم کش جدید است که مخصوص سرور Lightspeed است - از این رو ، با سرور محبوب Apache کار نخواهد کرد. اطلاعات بیشتر در مورد آن را در http://xcache.lighttpd.net/ بخوانید.

